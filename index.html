<html>
    <head>
        <title> Анимация</title>
    </head>
<body data-gr-c-s-loaded="true">
    <form action="">
        <input type="text" name="first_field">
        <br>
        <label for="add"> add new field</label>
        <input id="add" type="checkbox" name="check" value="add">
        <br>
        <br>
        <button type="submit">Submit</button>
    </form>
    
<script>


  var checkbox = document.getElementById('add');
        checkbox.addEventListener('change', function() {
    if (checkbox.checked){
        checkbox.insertAdjacentHTML('afterend', '<div id="second_field"><lable>add another text </lable><input type="text" name="second_field"></div>');
    }
    else{ 
      var second = document.getElementById("second_field");
      second.remove(second.selectedIndex);
         
    }
    const form = document.querySelector('form'); 
    form.addEventListener('submit', el => { 
        const sel = el.target.querySelectorAll('input');
            const items = Array.from(sel);
            const result = items
                .filter(el => el.type !== !el.name || el.type === 'checkbox' && el.checked)
                .reduce((acc, el) => `${acc}${el.name} = ${el.value}\n`, '')
            alert(result)}); 
          
});
    

    
</script> 

</body>
</html>